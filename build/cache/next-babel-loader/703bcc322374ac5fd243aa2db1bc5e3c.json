{"ast":null,"code":"import _classCallCheck from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/delpinor/Dropbox/git/delpinocardenas.com.ar/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport { Button, Grid } from '@material-ui/core';\nimport { toast } from 'react-toastify';\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inherits(Form, _Component);\n\n  var _super = _createSuper(Form);\n\n  function Form() {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      name: '',\n      phone: '',\n      email: '',\n      address: '',\n      description: '',\n      showDialog: false,\n      error: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"schema\", {\n      email: Joi.string().email({\n        minDomainAtoms: 2\n      }).required().error(function (errors) {\n        errors.forEach(function (err) {\n          switch (err.type) {\n            case \"string.email\":\n              err.message = 'Ingrese un e-mail válido';\n              break;\n\n            default:\n              err.message = 'Debe ingresar un e-mail';\n              break;\n          }\n        });\n        return errors;\n      }),\n      phone: Joi.string().required().error(function (errors) {\n        errors.forEach(function (err) {\n          switch (err.type) {\n            default:\n              err.message = 'Debe ingresar un teléfono';\n              break;\n          }\n        });\n        return errors;\n      }),\n      name: Joi.string().required().error(function (errors) {\n        errors.forEach(function (err) {\n          switch (err.type) {\n            default:\n              err.message = 'Debe ingresar un nombre';\n              break;\n          }\n        });\n        return errors;\n      }),\n      description: Joi.string().required().error(function (errors) {\n        errors.forEach(function (err) {\n          switch (err.type) {\n            default:\n              err.message = 'Ingrese su consulta';\n              break;\n          }\n        });\n        return errors;\n      }),\n      address: Joi.string()\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeHandler\", function (event) {\n      var _this$setState;\n\n      var error = _objectSpread({}, _this.state.error);\n\n      var errorMassage = _this.validationProperty(event);\n\n      if (errorMassage) {\n        error[event.target.name] = errorMassage;\n      } else {\n        delete error[event.target.name];\n      }\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, event.target.name, event.target.value), _defineProperty(_this$setState, \"error\", error), _this$setState));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (value) {\n      _this.setState({\n        country: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validationProperty\", function (event) {\n      var Obj = _defineProperty({}, event.target.name, event.target.value);\n\n      var schema = _defineProperty({}, event.target.name, _this.schema[event.target.name]);\n\n      var _Joi$validate = Joi.validate(Obj, schema),\n          error = _Joi$validate.error;\n\n      return error ? error.details[0].message : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validate\", function () {\n      var options = {\n        abortEarly: false\n      };\n      var form = {\n        name: _this.state.name,\n        email: _this.state.email,\n        phone: _this.state.phone,\n        description: _this.state.description\n      };\n\n      var _Joi$validate2 = Joi.validate(form, _this.schema, options),\n          error = _Joi$validate2.error;\n\n      if (!error) return null;\n      var errors = {};\n\n      var _iterator = _createForOfIteratorHelper(error.details),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          errors[item.path[0]] = item.message;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return errors;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submitHandler\", function (event) {\n      event.preventDefault();\n\n      var error = _this.validate();\n\n      if (error) {\n        _this.setState({\n          error: error || {}\n        });\n      } else {\n        // Send email\n        fetch('/api/contact', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(_this.state)\n        }).then(function (res) {\n          console.log('Response received');\n\n          if (res.status === 200) {\n            console.log('Response succeeded!');\n\n            _this.setState({\n              name: '',\n              phone: '',\n              email: '',\n              address: '',\n              description: '',\n              showDialog: true\n            });\n          } else {\n            _this.setState({});\n          }\n        });\n        toast.success('Please check Consol log');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCloseDialog\", function () {\n      _this.setState({\n        showDialog: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      var options = [{\n        level: 'Family Law',\n        value: 'family law'\n      }, {\n        level: 'Criminal Law',\n        value: 'criminal law'\n      }, {\n        level: 'Business Law',\n        value: 'business law'\n      }, {\n        level: 'Personal Injury',\n        value: 'personal injury'\n      }, {\n        level: 'Education Law',\n        value: 'education law'\n      }, {\n        level: 'Drugs Crime',\n        value: 'drugs crime'\n      }];\n      return /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"form\", {\n          onSubmit: this.submitHandler,\n          className: \"contactForm\",\n          children: /*#__PURE__*/_jsxs(Grid, {\n            container: true,\n            spacing: 4,\n            children: [/*#__PURE__*/_jsx(Grid, {\n              item: true,\n              sm: 6,\n              xs: 12,\n              children: /*#__PURE__*/_jsxs(Grid, {\n                className: \"formInput\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  placeholder: \"Su nombre\",\n                  value: this.state.name,\n                  name: \"name\",\n                  onChange: this.changeHandler,\n                  className: \"form-control\",\n                  type: \"text\"\n                }), this.state.error.name && /*#__PURE__*/_jsx(\"p\", {\n                  children: this.state.error.name\n                })]\n              })\n            }), /*#__PURE__*/_jsx(Grid, {\n              item: true,\n              sm: 6,\n              xs: 12,\n              children: /*#__PURE__*/_jsxs(Grid, {\n                className: \"formInput\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  placeholder: \"Tel\\xE9fono\",\n                  value: this.state.phone,\n                  name: \"phone\",\n                  onChange: this.changeHandler,\n                  className: \"form-control\",\n                  type: \"phone\"\n                }), this.state.error.phone && /*#__PURE__*/_jsx(\"p\", {\n                  children: this.state.error.phone\n                })]\n              })\n            }), /*#__PURE__*/_jsx(Grid, {\n              item: true,\n              sm: 6,\n              xs: 12,\n              children: /*#__PURE__*/_jsxs(Grid, {\n                className: \"formInput\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  placeholder: \"E-mail\",\n                  value: this.state.email,\n                  name: \"email\",\n                  onChange: this.changeHandler,\n                  className: \"form-control\",\n                  type: \"email\"\n                }), this.state.error.email && /*#__PURE__*/_jsx(\"p\", {\n                  children: this.state.error.email\n                })]\n              })\n            }), /*#__PURE__*/_jsx(Grid, {\n              item: true,\n              sm: 6,\n              xs: 12,\n              children: /*#__PURE__*/_jsx(Grid, {\n                className: \"formInput\",\n                children: this.props.addressInfo ? /*#__PURE__*/_jsx(Grid, {\n                  className: \"formInput\",\n                  children: /*#__PURE__*/_jsx(\"input\", {\n                    placeholder: \"Ciudad\",\n                    value: this.state.address,\n                    name: \"address\",\n                    onChange: this.changeHandler,\n                    className: \"form-control\",\n                    type: \"address\"\n                  })\n                }) : /*#__PURE__*/_jsx(\"select\", {\n                  value: this.state.address,\n                  className: \"form-control\",\n                  onChange: this.changeHandler,\n                  name: \"address\",\n                  children: options.map(function (option) {\n                    return /*#__PURE__*/_jsx(\"option\", {\n                      value: option.value,\n                      children: option.level\n                    }, option.value);\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxs(Grid, {\n                className: \"formInput\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  className: \"form-control\",\n                  value: this.state.description,\n                  onChange: this.changeHandler,\n                  placeholder: \"Detalle de su consulta...\",\n                  name: \"description\"\n                }), this.state.error.description && /*#__PURE__*/_jsx(\"p\", {\n                  children: this.state.error.description\n                })]\n              })\n            }), /*#__PURE__*/_jsx(Grid, {\n              item: true,\n              sm: 6,\n              xs: 12,\n              children: /*#__PURE__*/_jsx(Button, {\n                type: \"submit\",\n                children: \"Consultar\"\n              })\n            })]\n          })\n        })\n      });\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nexport default Form;","map":null,"metadata":{},"sourceType":"module"}