{"ast":null,"code":"export default function (req, res) {\n  require('dotenv').config();\n\n  let nodemailer = require('nodemailer');\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"premium171.web-hosting.com\",\n    auth: {\n      user: 'cdontacto@delpinocardenas.com.ar',\n      pass: process.env.password\n    },\n    secure: true\n  });\n  const mailData = {\n    from: 'contacto@delpinocardenas.com.ar',\n    to: 'contacto@delpinocardenas.com.ar',\n    replyTo: req.body.email,\n    subject: `Mensaje de ${req.body.name}`,\n    //text: req.body.phone,\n    html: `<div>Teléfono: ${req.body.phone} </br> E-mail: ${req.body.email} </br> Ciudad: ${req.body.address} </br> Mensaje: ${req.body.description}</div>`\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) {\n      console.log(err);\n      res.status(500).json({\n        message: \"Momentaneamente fuera de servicio.\"\n      });\n    } else {\n      console.log(info);\n      res.status(200).json({\n        message: \"OK\"\n      });\n    }\n  });\n}","map":{"version":3,"sources":["/home/delpinor/Dropbox/git/delpinocardenas.com.ar/barrister/pages/api/contact.js"],"names":["req","res","require","config","nodemailer","transporter","createTransport","port","host","auth","user","pass","process","env","password","secure","mailData","from","to","replyTo","body","email","subject","name","html","phone","address","description","sendMail","err","info","console","log","status","json","message"],"mappings":"AAAA,eAAe,UAAUA,GAAV,EAAeC,GAAf,EAAoB;AAC/BC,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAIC,UAAU,GAAGF,OAAO,CAAC,YAAD,CAAxB;;AACA,QAAMG,WAAW,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC3CC,IAAAA,IAAI,EAAE,GADqC;AAE3CC,IAAAA,IAAI,EAAE,4BAFqC;AAG3CC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,kCADJ;AAEFC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFhB,KAHqC;AAO3CC,IAAAA,MAAM,EAAE;AAPmC,GAA3B,CAApB;AAWA,QAAMC,QAAQ,GAAG;AACbC,IAAAA,IAAI,EAAE,iCADO;AAEbC,IAAAA,EAAE,EAAE,iCAFS;AAGbC,IAAAA,OAAO,EAAEnB,GAAG,CAACoB,IAAJ,CAASC,KAHL;AAIbC,IAAAA,OAAO,EAAG,cAAatB,GAAG,CAACoB,IAAJ,CAASG,IAAK,EAJxB;AAKb;AACAC,IAAAA,IAAI,EAAG,kBAAiBxB,GAAG,CAACoB,IAAJ,CAASK,KAAM,kBAAiBzB,GAAG,CAACoB,IAAJ,CAASC,KAAM,kBAAiBrB,GAAG,CAACoB,IAAJ,CAASM,OAAQ,mBAAkB1B,GAAG,CAACoB,IAAJ,CAASO,WAAY;AANnI,GAAjB;AASAtB,EAAAA,WAAW,CAACuB,QAAZ,CAAqBZ,QAArB,EAA+B,UAAUa,GAAV,EAAeC,IAAf,EAAqB;AAChD,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA5B,MAAAA,GAAG,CAACgC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAArB;AACH,KAHD,MAGO;AACHJ,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA7B,MAAAA,GAAG,CAACgC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAArB;AACH;AACJ,GARD;AAUH","sourcesContent":["export default function (req, res) {\n    require('dotenv').config()\n\n    let nodemailer = require('nodemailer')\n    const transporter = nodemailer.createTransport({\n        port: 465,\n        host: \"premium171.web-hosting.com\",\n        auth: {\n            user: 'cdontacto@delpinocardenas.com.ar',\n            pass: process.env.password,\n        },\n        secure: true,\n    });\n\n\n    const mailData = {\n        from: 'contacto@delpinocardenas.com.ar',\n        to: 'contacto@delpinocardenas.com.ar',\n        replyTo: req.body.email,\n        subject: `Mensaje de ${req.body.name}`,\n        //text: req.body.phone,\n        html: `<div>Teléfono: ${req.body.phone} </br> E-mail: ${req.body.email} </br> Ciudad: ${req.body.address} </br> Mensaje: ${req.body.description}</div>`\n    }\n\n    transporter.sendMail(mailData, function (err, info) {\n        if(err){\n            console.log(err);\n            res.status(500).json({message: \"Momentaneamente fuera de servicio.\"})\n        } else {\n            console.log(info);\n            res.status(200).json({message: \"OK\"})\n        }\n    })\n\n}"]},"metadata":{},"sourceType":"module"}